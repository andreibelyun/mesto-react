{"version":3,"sources":["components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","utils/Api.js","components/ImagePopup.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ConfirmDeletePopup.js","components/Login.js","components/App.js","index.js"],"names":["Header","className","href","target","CurrentUserContext","React","createContext","Card","props","currentUser","useContext","isOwn","card","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","item","cardLikeButtonClassName","src","link","alt","name","onClick","onCardClick","type","onCardDelete","onCardLike","length","Main","onEditAvatar","avatar","onEditProfile","about","onAddPlace","cards","map","Footer","api","options","this","_baseUrl","baseUrl","_headers","headers","res","ok","json","Error","status","cardId","fetch","method","then","_checkResponse","body","JSON","stringify","data","_putLike","_removeLike","authorization","ImagePopup","onClose","PopupWithForm","isOpen","title","autoComplete","onSubmit","children","buttonText","EditProfilePopup","useState","setName","description","setDescription","useEffect","e","preventDefault","onUpdateUser","value","onChange","id","placeholder","required","minLength","maxLength","EditAvatarPopup","avatarLinkInput","useRef","onUpdateAvatar","current","ref","AddPlacePopup","nameInput","linkInput","ConfirmDeletePopup","Login","App","setCurrentUser","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","selectedCard","setSelectedCard","setCards","closeAllPopups","getUserInformation","catch","err","console","error","getInitialCards","cardsList","Provider","path","element","i","changeLikeCardStatus","newCard","state","c","deleteCard","filter","setUserInformation","newUser","changeAvatar","addNewCard","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.495903c3.chunk.js","sourcesContent":["function Header() {\r\n    return (\r\n        <header className=\"header\">\r\n            <a className=\"header__logo\" href=\"#\" target=\"_blank\"></a>\r\n        </header>\r\n    );\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\n\r\nconst CurrentUserContext = React.createContext();\r\n\r\nexport default CurrentUserContext;","import React from \"react\";\r\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\r\n\r\nfunction Card(props) {\r\n    \r\n    const currentUser = React.useContext(CurrentUserContext);\r\n\r\n    const isOwn = props.card.owner._id === currentUser._id;\r\n    const cardDeleteButtonClassName = (`card__remove ${isOwn ? 'card__remove_active' : ''}`);\r\n    const isLiked = props.card.likes.some(item => item._id === currentUser._id);\r\n    const cardLikeButtonClassName = (`card__like ${isLiked ? 'card__like_active' : ''}`);\r\n\r\n    const handleClick = () => {\r\n        props.onCardClick(props.card);\r\n    };\r\n        \r\n    const handleLikeClick = () => {\r\n        props.onCardLike(props.card);\r\n    };\r\n\r\n    const handleDeleteClick = () => {\r\n        props.onCardDelete(props.card);\r\n    };\r\n\r\n    return (\r\n        <article className=\"card\">\r\n            <img \r\n                className=\"card__photo\" \r\n                src={props.card.link} \r\n                alt={props.card.name} \r\n                onClick={handleClick}\r\n            />\r\n            <button \r\n                className={cardDeleteButtonClassName} \r\n                type=\"button\" \r\n                aria-label=\"Удалить карточку\" \r\n                onClick={handleDeleteClick} \r\n            />\r\n            <div className=\"card__info\">\r\n                <h2 className=\"card__title\">{props.card.name}</h2>\r\n                <div className=\"card__like-group\">\r\n                    <button \r\n                        className={cardLikeButtonClassName} \r\n                        type=\"button\" \r\n                        aria-label=\"Поставить лайк\" \r\n                        onClick={handleLikeClick}\r\n                    />   \r\n                    <p className=\"card__likes-count\">{props.card.likes.length}</p>\r\n                </div>\r\n            </div> \r\n        </article>\r\n    );\r\n}\r\n\r\nexport default Card;","import React, {useContext} from 'react';\r\nimport Card from './Card.js';\r\nimport CurrentUserContext from '../contexts/CurrentUserContext.js';\r\n\r\nfunction Main(props) {\r\n\r\n    const currentUser = useContext(CurrentUserContext);\r\n           \r\n    return (\r\n        <main>\r\n            <section className=\"profile\">\r\n                <div className=\"profile__avatar-overlay\" onClick={props.onEditAvatar}>\r\n                    <div className=\"profile__change-avatar-icon\" />\r\n                </div> \r\n                <img className=\"profile__avatar\" src={currentUser.avatar} alt=\"аватар пользователя\"/>\r\n                <div className=\"profile__intro\">\r\n                    <h1 className=\"profile__name\">{currentUser.name}</h1>\r\n                    <button \r\n                        className=\"profile__edit\" \r\n                        type=\"button\" \r\n                        aria-label=\"Редактировать профиль\"\r\n                        onClick={props.onEditProfile}\r\n                    />\r\n                    <p className=\"profile__description\">{currentUser.about}</p>\r\n                </div>\r\n                <button \r\n                    className=\"profile__add-element\" \r\n                    type=\"button\" \r\n                    aria-label=\"Добавить карточку\"\r\n                    onClick = {props.onAddPlace} \r\n                />\r\n            </section>\r\n\r\n            <section className=\"cards\">\r\n                { props.cards.map(item => (\r\n                    <Card\r\n                        onCardDelete = {props.onCardDelete}\r\n                        onCardLike = {props.onCardLike} \r\n                        onCardClick={props.onCardClick}\r\n                        key={item._id} \r\n                        card={item}\r\n                    />\r\n                ))\r\n                }\r\n            </section>\r\n        </main>\r\n    );\r\n}\r\n\r\nexport default Main;","function Footer() {\r\n    return(\r\n        <footer className=\"footer\">\r\n            <p className=\"footer__copyright\"> &copy; 2021 Mesto Russia</p>\r\n        </footer>\r\n    );\r\n}\r\n\r\nexport default Footer;","class Api {\r\n    constructor(options) {\r\n        this._baseUrl = options.baseUrl;\r\n        this._headers = options.headers;\r\n    }\r\n\r\n    _checkResponse(res) {\r\n        if(res.ok) {\r\n            return res.json();\r\n        } else {\r\n            throw new Error(`Response is not ok with status ${res.status}`);\r\n        }\r\n    }\r\n\r\n    _putLike(cardId) {\r\n        return fetch(`${this._baseUrl}/cards/likes/${cardId}`, {\r\n            method: \"PUT\",\r\n            headers: this._headers})\r\n        .then(this._checkResponse);\r\n    }\r\n\r\n    _removeLike(cardId) {\r\n        return fetch(`${this._baseUrl}/cards/likes/${cardId}`, {\r\n            method: \"DELETE\",\r\n            headers: this._headers\r\n        })\r\n        .then(this._checkResponse);\r\n    }\r\n\r\n    getInitialCards() {\r\n        return fetch(`${this._baseUrl}/cards`, { headers: this._headers })\r\n        .then(this._checkResponse);\r\n    }\r\n\r\n    getUserInformation() {\r\n        return fetch(`${this._baseUrl}/users/me`, { headers: this._headers })\r\n        .then(this._checkResponse);\r\n    }\r\n\r\n    setUserInformation(name, about) {\r\n        return fetch(`${this._baseUrl}/users/me`, {\r\n            method: \"PATCH\", \r\n            headers: this._headers, \r\n            body: JSON.stringify({\r\n                name: name,\r\n                about: about\r\n            })\r\n        })\r\n        .then(this._checkResponse);\r\n    }\r\n\r\n    addNewCard(name, link) {\r\n        return fetch(`${this._baseUrl}/cards`, {\r\n            method: \"POST\",\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n                name: name,\r\n                link: link\r\n            })\r\n        })\r\n        .then(this._checkResponse);\r\n    }\r\n\r\n    deleteCard(cardId) {\r\n        return fetch(`https://mesto.nomoreparties.co/v1/cohort-27/cards/${cardId}`, {\r\n        method: \"DELETE\",\r\n        headers: this._headers\r\n      });\r\n    }\r\n\r\n    changeAvatar(data) {\r\n        return fetch(`${this._baseUrl}/users/me/avatar`, {\r\n            method: \"PATCH\",\r\n            headers: this._headers,\r\n            body: JSON.stringify({avatar: data.link})\r\n        })\r\n        .then(this._checkResponse);\r\n    }\r\n\r\n    changeLikeCardStatus(cardId, status) {\r\n        return status ? this._putLike(cardId) : this._removeLike(cardId);\r\n    }\r\n}\r\n\r\nconst api = new Api({\r\n    baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-27',\r\n    headers: {\r\n      authorization: 'cf50944a-ccaa-46b0-8cc3-ef5baa3fd45f',\r\n      'Content-Type': 'application/json'\r\n    }\r\n});\r\n\r\nexport default api;","function ImagePopup(props) {\r\n\r\n    return (\r\n        <div className={`popup popup_type_photo-view ${props.card.link && 'popup_opened'}`}>\r\n            <div className=\"popup__container popup__container_type_photo\">\r\n                <img className=\"popup__photo\" src={props.card.link} alt={props.card.name} />\r\n                <p className=\"popup__photo-caption\">{props.card.name}</p>\r\n                <button className=\"popup__close\" type=\"button\" aria-label=\"Закрыть окно\" onClick={props.onClose}></button>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ImagePopup;","function PopupWithForm(props) {\r\n\r\n    return (\r\n        <div className={`popup popup_type_${props.name} ${props.isOpen && 'popup_opened'}`}>\r\n            <div className=\"popup__container\">\r\n                <button \r\n                    className=\"popup__close\"\r\n                    type=\"button\" \r\n                    aria-label=\"Закрыть окно\" \r\n                    onClick={props.onClose} \r\n                />\r\n                <h2 className=\"popup__title\">\r\n                    {props.title}\r\n                </h2>\r\n                <form \r\n                    className=\"popup__form\" \r\n                    name={props.name} \r\n                    autoComplete=\"off\" \r\n                    onSubmit={props.onSubmit}\r\n                >   \r\n                    <div>\r\n                        {props.children}\r\n                    </div>\r\n                    <button \r\n                        className=\"popup__save\" \r\n                        type=\"submit\"\r\n                    >\r\n                        {props.buttonText}\r\n                    </button>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default PopupWithForm;","import React, {useState, useContext} from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\r\n\r\nexport default function EditProfilePopup(props) {\r\n\r\n    const currentUser = useContext(CurrentUserContext);\r\n\r\n    const [name, setName] = useState(\"\");\r\n    const [description, setDescription] = useState(\"\");\r\n\r\n    const handleChangeName = (e) => {\r\n        setName(e.target.value);\r\n    };\r\n\r\n    const handleChangeDescription = (e) => {\r\n        setDescription(e.target.value);\r\n    };\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n\r\n        props.onUpdateUser({\r\n            name, \r\n            about: description\r\n        });\r\n    };\r\n\r\n    React.useEffect(() => {\r\n        setName(currentUser.name);\r\n        setDescription(currentUser.about);\r\n    }, [currentUser]);\r\n\r\n    return (\r\n        <PopupWithForm\r\n            isOpen={props.isOpen} \r\n            onClose={props.onClose}\r\n            onSubmit={handleSubmit}\r\n            title=\"Редактировать профиль\" \r\n            name=\"edit-profile\"\r\n            buttonText=\"Сохранить\"\r\n        >\r\n            <div className=\"popup__section\">\r\n                <input\r\n                    value={name ? name : \"\"}\r\n                    onChange={handleChangeName}\r\n                    id=\"name-input\" \r\n                    name=\"name\" \r\n                    className=\"popup__input popup__input_type_name\" \r\n                    type=\"text\" \r\n                    placeholder=\"Имя\" \r\n                    required minLength=\"2\" \r\n                    maxLength=\"40\"\r\n                />\r\n                <span className=\"popup__input-error name-input-error\"/>\r\n            </div>\r\n\r\n            <div className=\"popup__section\">\r\n                <input\r\n                    value={description ? description : \"\"}\r\n                    onChange = {handleChangeDescription}\r\n                    id=\"description-input\" \r\n                    name=\"about\" \r\n                    className=\"popup__input popup__input_type_description\" \r\n                    type=\"text\" \r\n                    placeholder=\"Описание\" \r\n                    required minLength=\"2\" \r\n                    maxLength=\"200\"              \r\n                />\r\n                <span className=\"popup__input-error description-input-error\" />\r\n            </div>\r\n            \r\n        </PopupWithForm>\r\n    );\r\n}","import React, { useRef } from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nexport default function EditAvatarPopup(props) {\r\n\r\n    const avatarLinkInput = useRef();\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n\r\n        props.onUpdateAvatar({link: avatarLinkInput.current.value});\r\n\r\n        avatarLinkInput.current.value = \"\";\r\n    };\r\n\r\n    return (\r\n        <PopupWithForm \r\n            isOpen={props.isOpen}\r\n            onClose={props.onClose}\r\n            onSubmit={handleSubmit}\r\n            title=\"Обновить аватар\" \r\n            name=\"change-avatar\"\r\n            buttonText=\"Сохранить\"\r\n        >\r\n            <div className=\"popup__section\">\r\n                <input\r\n                    ref={avatarLinkInput}\r\n                    id=\"avatar-link-input\" \r\n                    name=\"link\" \r\n                    className=\"popup__input popup__input_type_description\" \r\n                    type=\"url\" \r\n                    placeholder=\"Ссылка на картинку\" \r\n                    required \r\n                />\r\n                <span className=\"popup__input-error avatar-link-input-error\" />\r\n            </div>\r\n        </PopupWithForm>\r\n    );\r\n}","import React, {useRef} from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nexport default function AddPlacePopup(props) {\r\n\r\n    const nameInput = useRef();\r\n    const linkInput = useRef();\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n\r\n        props.onAddPlace({\r\n            name : nameInput.current.value,\r\n            link: linkInput.current.value\r\n        });\r\n\r\n        nameInput.current.value = \"\";\r\n        linkInput.current.value = \"\";\r\n    };\r\n\r\n    return (\r\n        <PopupWithForm \r\n            title=\"Новое место\" \r\n            name=\"create-place\" \r\n            isOpen={props.isOpen}\r\n            onClose={props.onClose}\r\n            onSubmit={handleSubmit}\r\n            buttonText=\"Создать\"\r\n        >\r\n            <div className=\"popup__section\">\r\n                <input \r\n                    ref={nameInput} \r\n                    id=\"place-name-input\" \r\n                    name=\"name\" \r\n                    className=\"popup__input popup__input_type_name\" \r\n                    type=\"text\" \r\n                    placeholder=\"Название\" \r\n                    required minLength=\"2\" \r\n                    maxLength=\"30\" \r\n                />\r\n                <span className=\"popup__input-error place-name-input-error\" />\r\n            </div>\r\n\r\n            <div className=\"popup__section\">\r\n                <input \r\n                    ref={linkInput} \r\n                    id=\"link-input\" \r\n                    name=\"link\" \r\n                    className=\"popup__input popup__input_type_description\" \r\n                    type=\"url\" \r\n                    placeholder=\"Ссылка на картинку\" \r\n                    required \r\n                />\r\n                <span className=\"popup__input-error link-input-error\" />\r\n            </div>\r\n        </PopupWithForm>\r\n    );\r\n}","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nexport default function ConfirmDeletePopup() {\r\n    return (\r\n        <PopupWithForm \r\n            title=\"Вы уверены?\"\r\n            name=\"delete-confirm\"\r\n            isOpen={false} \r\n            buttonText=\"Да\"\r\n        />\r\n    );\r\n}","import React from \"react\";\r\n\r\nexport default function Login() {\r\n    return (\r\n        <>\r\n            \r\n            <h1 className=\"popup__title\">Вход</h1>\r\n            <form>\r\n                <input\r\n                    placeholder=\"Email\"\r\n                />\r\n                <input\r\n                    placeholder=\"Пароль\"\r\n                />\r\n                <button>Войти</button> \r\n            </form>\r\n        </>\r\n    );\r\n}","import React, { useState } from 'react';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport api from '../utils/Api';\nimport CurrentUserContext from '../contexts/CurrentUserContext';\nimport ImagePopup from './ImagePopup';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport ConfirmDeletePopup from './ConfirmDeletePopup';\nimport {Route, Routes, Navigate} from 'react-router-dom';\nimport Login from './Login';\n\nfunction App() {\n\n    const [currentUser, setCurrentUser] = useState({});\n\n    const [loggedIn, setLoggedIn] = useState(true);\n\n    const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n    const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n    const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n\n    const [selectedCard, setSelectedCard] = useState({});\n\n    const [cards, setCards] = useState([]);\n\n    const handleEditAvatarClick = () => {\n        setIsEditAvatarPopupOpen(true);\n    };\n\n    const handleEditProfileClick = () => {\n        setIsEditProfilePopupOpen(true);\n    };\n\n    const handleAddPlaceClick = () => {\n        setIsAddPlacePopupOpen(true);\n    };\n\n    const closeAllPopups = () => {\n        setIsEditProfilePopupOpen(false);\n        setIsEditAvatarPopupOpen(false);\n        setIsAddPlacePopupOpen(false);\n        setSelectedCard({});\n    };\n\n    const handleCardClick = (card) => {\n        setSelectedCard(card);\n    };\n\n    const handleUpdateUser = ({name, about}) => {\n        api.setUserInformation(name, about)\n        .then(newUser => {\n            setCurrentUser(newUser);\n            closeAllPopups();\n        })\n        .catch(err => {\n            console.error(err);\n        });\n    };\n\n    const handleUpdateAvatar = (data) => {\n        api.changeAvatar(data)\n        .then(newUser => {\n            setCurrentUser(newUser);\n            closeAllPopups();\n        })\n        .catch(err => {\n            console.error(err);\n        });\n    };\n\n    const handleAddPlaceSubmit = ({name, link}) => {\n        api.addNewCard(name, link)\n        .then(newCard => {\n            setCards([newCard, ...cards]);\n            closeAllPopups();\n        })\n        .catch(err => {\n            console.error(err);\n        });\n    };\n\n    function handleCardLike(card) {\n        const isLiked = card.likes.some(i => i._id === currentUser._id);\n        \n        api.changeLikeCardStatus(card._id, !isLiked).then((newCard) => {\n            setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\n        });\n    }\n\n    function handleDeleteClick(card) {\n        api.deleteCard(card._id)\n        .then(() => {\n            setCards(cards.filter(i => i._id !== card._id));\n        })\n        .catch(err => {\n            console.error(err);\n        });\n    }\n\n    React.useEffect(() => {\n        api.getUserInformation()\n        .then(data => {\n            setCurrentUser(data);\n        })\n        .catch(err => {\n            console.error(err);\n        });\n    }, []);\n\n    React.useEffect(() => {\n        api.getInitialCards()\n        .then(cardsList => {\n            setCards(cardsList);\n        })\n        .catch(err => {\n            console.error(err);\n        });\n    }, []);\n    \n    return (\n        <div className=\"page__container\">\n            <CurrentUserContext.Provider value={currentUser}>\n                <Header />\n                <Routes>\n                    {/* <Route path=\"/sign-up\" element={<Re}>\n\n                    </Route> */}\n                    <Route path=\"/sign-in\" element={<Login />}>\n                    </Route>\n                    <Route path=\"/\" element={\n                        <> \n                        <Main\n                            onEditAvatar = {handleEditAvatarClick}\n                            onEditProfile = {handleEditProfileClick}\n                            onAddPlace = {handleAddPlaceClick}\n                            onCardClick = {handleCardClick}\n                            cards = {cards}\n                            onCardLike={handleCardLike}\n                            onCardDelete={handleDeleteClick}\n                        />\n                        <Footer />\n                    </>\n                    }>\n                    </Route>\n                </Routes>\n                \n                    \n\n                    <EditProfilePopup \n                        isOpen={isEditProfilePopupOpen} \n                        onClose={closeAllPopups}\n                        onUpdateUser={handleUpdateUser}\n                    />\n\n                    <EditAvatarPopup \n                        isOpen={isEditAvatarPopupOpen} \n                        onClose={closeAllPopups}\n                        onUpdateAvatar={handleUpdateAvatar}\n                    />\n\n                    <AddPlacePopup \n                        isOpen={isAddPlacePopupOpen} \n                        onClose={closeAllPopups}\n                        onAddPlace={handleAddPlaceSubmit}\n                    />\n\n                    <ImagePopup \n                        card={selectedCard} \n                        onClose={closeAllPopups}\n                    />\n\n                    <ConfirmDeletePopup />\n                \n            </CurrentUserContext.Provider>\n        </div>\n    );\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App.js';\nimport {BrowserRouter} from 'react-router-dom';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}